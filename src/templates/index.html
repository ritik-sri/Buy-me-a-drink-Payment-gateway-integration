{% extends "base.html"  %}

{% block content %}



{% if not payement %}
<div id="app">
<div class="col-6 pt-5  mx-auto">
<div class="text-center">
<img src="https://img.freepik.com/free-vector/hand-drawn-aperol-spritz-illustration_23-2149459439.jpg?w=740&t=st=1694859903~exp=1694860503~hmac=b920054343543ce00f09c6c5df6246ba7ae3b2d3d47cb2dfcf4291a085c978da"
style="height:200px" class="img-fluid img-reponsive text-center">

<h4>Buy me a Drink</h4>
</div>

    <form class="m" method="post" >
        {% csrf_token %}
        <div class="form-group pt-4">
            <label for="exampleInputEmail1">Your name</label>
            <input  v-model="name" name="name" type="text" class="form-control"
             id="exampleInputEmail1" aria-describedby="emailHelp">

          </div>
        <div class="form-group">
          <label for="exampleInputEmail1">Enter Amount</label>
          <input v-model="amount" type="number"  class="form-control" name="amount"
           id="exampleInputEmail1" aria-describedby="emailHelp">
          <small id="emailHelp" class="form-text text-muted">
              Thanks for the drink.</small>
        </div>

        <!-- <button class="btn btn-successgit pull --rebase origin main btn-block" type="submit">Buy</button> -->
        </form>


        <div class="container mx-auto text-center mt-4" v-if="name && amount">

            <form action="/success" method="POST">
                <script
                    src="https://checkout.razorpay.com/v1/checkout.js"
                    data-key="PUBLIC KEY"
                    data-currency="INR"//You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account
                    data-order_id="{{ payment.id }}"//Replace with the order_id generated by you in the backend.
                    data-buttontext="Pay Now"
                    data-name="Normal Drink"
                    data-description="Thanks for buying me a drink"
                    data-image="https://example.com/your_logo.jpg"
                    data-prefill.name="Ritik"

                     data-theme.color="#FF0000"
                ></script>
                <input type="hidden" custom="Hidden Element" name="hidden">
                </form>
            </div>

        </div>



</div>

{% endif %}








    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
        var app = new Vue({
          delimiters: ['[[', ']]'],
          el: '#app',
          data: {
              message: 'Hello Vue!',
              name : null,
              amount : null

          },
          methods: {
              greet: function(name) {
                  console.log('Hello from ' + name + '!')
              },
              get : function(){
                console.log(this.name , this.amount)
              }
          },
          watch : {
            amount(){
                console.log(this.amount)
            }
          }
        });
      </script>


<style>
body{
    background :#f5f6f8;
}

</style>
{% endblock %}